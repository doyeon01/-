## 기본

- RESTful API가 뭔가요? RESTful하게 디자인한다는 것은 무엇인가요?
    
    ### REST : REpresentational State Transfer
    
    **소프트웨어 아키텍처의 한 형식으로, HTTP URI를 통해  자원을 명시하고, HTTP Method(POST,GET,PUT,DELETE)를 통해 해당 자원에 대한 CRUD 를 적용하는 것을 의미.**
    
    - REST는 자원 기반의 구조 설계의 중심에 resource가 있고, HTTP Method를 통해 Resource를 처리하도록 설계된 아키텍쳐.
    - 웹 사이트의 모든 자원(이미지, 텍스트, DB내용)에 고유 ID인 HTTP URI를 부여한다.
    
    ### API : Application Programming Interface
    
    **기능의 집합(인터페이스)을 제공하여 서로 정보를 교환가능 하도록 하는 것**
    
    ### 💡RESTful API란?
    
    ⇒  HTTP의 다양한 메서드를 정해진 설계 및 처리하는 규칙을 REST라 하며, 이러한 방식을 잘 지키며 설계한 API를 RESTful API라고 한다.
    
    ### 💡Restful하게 디자인한다는 것은?
    
    ⇒ 리소스와 행위를 명시적으로 분리한다.
    
    메시지와 헤더를 명확하게 분리한다.
    
    서버와 클라이언트가 같은 uniform 형태로 일관성있는 처리가 가능하도록 설계한다.
    
    이러한 다양한 REST 원칙을 지켜서 인터페이스를 설계하는 것을 말한다.
    
- RESTful API의 특징
    
    프로그램 언어나 프레임워크에 종속되지 않는다.
    
    외부 시스템과 상호작용하기 위한 인터페이스 제공
    
    데이터 포맷, 프로토콜 등이 명확하게 정의됨
    
- RESTful API의 장단점
    
    ### 장점:
    
    1. 시스템과의 상호작용 용이하다(다양한 플랫폼 지원)
    2. 개발자 협업 및 확장에 용이하다.
    3. Open API를 제공하기 편함
    4. HTTP라는 기존 웹표준을 그대로 사용하기 때문에, 웹에서 사용하는 기존 인프라를 그대로 활용이 가능
    
    ### 단점:
    
    1. API 변경시 호환성에 문제가 생김.
    2. 제공되는 제약된 API만 사용가능
    3. API 사용위해 문서 이해를 토대로 구현해야함
- HTTP란?
    
    💡텍스트 기반의 통신 규약으로 서버와 클라이언트가 데이터를 주고받을 수 있는 무상태 프로토콜입니다.
    
    클라이언트의 요청과, 서버의 응답으로 데이터를 주고 받는데, 요청에는 Request Method Get,Post,Put,Delete 등을 사용해서 요청하고, 응답시에는 상태코드와 함께 메시지 본문을 응답합니다.
    
    응답 메시지에는 HTML, JSON등의 Content-Type으로 클라이언트에 보냅니다.
    
- HTTP의 특징
    
    HTTP 서버와 HTTP 클라이언트가 HTTP 메시지로 데이터를 주고 받는다.
    
    주로 TCP/IP 기반의 프로토콜을 이용하며, 연결 상태를 유지하지 않는 비연결성 프로토콜 입니다.  비연결성 프로토콜의 한계를 해결하기 위해 쿠키나 세션이 등장했습니다.
    
    연결을 유지하지 않기 때문에 요청/응답 방식으로 동작합니다.
    
    - 비연결성 프로토콜을 사용하는 이유
        
        연결성 프로토콜에서는 클라이언트가 요청을 보내지 않더라도 계속 연결을 유지 해야한다.
        많은 클라이언트가 있다면, 요청을 보내지 않는데도 서버가 연결을 유지하는데 많은 자원을 써야하므로 비효율적이기 때문.
        
    - 비연결성 프로토콜의 한계
        1. 매 연결시마다 TCP 3 way handshake를 쓰며 연결해야 하는 문제가 있는데, 이를 일부 지속연결하여( 보통 한페이지 다 다운할 동안 유지, 내부 매커니즘에 따라 다름) 해결한다.
        2. 매 요청시에 해당 클라이언트가 누군지 확인할 수 없음 → 쿠키와 세션으로 극복한다.
    
- HTTP 메소드에 대해 설명해주세요.
    
    리소스를 조작하는 동작을 뜻하며, 크게 Get Post Delete Put Patch 5개로 나뉜다.
    
- GET과 POST의 차이
    
    동작관점에서 보면, Get은 리소스 조회에 주로 사용되며, Post는 리소스 등록 및 생성시에 사용된다.
    
    get은 보통 메시지 바디 없이 요청하고, Post는 메시지 바디를 포함해서 서버에 요청데이터를 전달한다.
    
    get 방식에는 데이터 내용을 쿼리스트링에 담아 요청하는데, Post에서는 데이터 내용을 메시지 바디에 담아서 보내므로, 외부에 노출되지 않는다.
    
- TCP와 UDP의 차이
    - TCP와 UDP의 등장배경에는 IP 프로토콜의 한계점으로 등장하였습니다.
        
        IP는 목적지까지의 패킷 전송을 보장하지않고, 연결과 관련된 어떤 상태정보도 유지하지 않습니다.
        
        이러한 한계점을 극복하기 위해 TCP 프로토콜이 등장하였습니다.
        
    - TCP프로토콜은 전송계층으로 클라이언트와 서버간 3 way hadshake로 통신하며, 반드시 해당 방법으로 연결하고, 데이터를 주고 받습니다.
        
        따라서 데이터의 전달을 보장하며, 순서도 보장합니다.
        
    - UDP는 연결하지 않으므로, 신뢰성과 순서도 보장되지 않습니다.
        
        IP의 동작과 유사하지만, 한계점을 보완하기 위해, 체크섬과 포트번호등을 추가로 전달합니다.
        
        연결과정이 없으므로, 빠르다는 장점이 있고, 다양한 추가작업으로 연결 방식을 설정할 수 있기때문에 최근에 많이 사용되는 방법입니다.
        
- TCP 3-way-handshake
    
    **클라이언트가 서버**에 연결을 요청하는 SYN패킷을 보내면 서버는 이에대한 응답으로 요청을 수락하는 ACK패킷과 함께 **서버가 클라이언트**에 연결을 요청하는 SYN패킷을 보냅니다.
    
    마지막으로 클라이언트가 요청을 수락하는 ACK 패킷을 보내고 이후 데이터를 전송합니다.
    
- HTTP 상태코드 중 400번대와 500번대의 차이점
    - 400번대는 클라이언트 오류, 잘못된 문법등으로 서버가 요청을 수행할 수 없음을 뜻합니다.
    - 500번대는 서버 내부 오류로 서버가 정상동작을 수행할 수 없음을 뜻합니다.
- HTTP와 HTTPS의 차이
    
    HTTP는 80번 포트에서 **암호화되지 않은** 평문 프로토콜을 전송하므로, 중요 데이터를 제 3자가 조회할 수 있었다.
    
    이러한 문제를 해결하기 위해 HTTPS가 등장하였다.
    
    HTTPS는 HTTP에 암호화가 추가된 프로토콜로 443번 포트를 사용한다.
    
    암호화에는 대칭키 방식과 비대칭키 방식을 사용한다.
    
    - 대칭키 방식
        
        클라이언트와 서버가 같은 키로 암호화/복호화 하고, 한쪽이 키를 노출하면 매우 위험하지만, 연산속도가 빠르다.
        
    - 비대칭키 방식
        
        1개의 쌍으로 구성된 공개키와 비밀키로 암호화/복호화 하고, 키가 노출되도 비교적 안전하지만 느리다.
        
- 브라우저에 www.naver.com을 입력하면 어떤 일이 일어나나요?
    1. URI의 도메인 네임을 바탕으로 DNS 서버에서 해당 도메인에 매칭되는 IP를 찾아온다.
    
     2. IP와 포트번호를 HTTP 요청 메시지에 담아 서버에 전송한다.(이때 tcp 연결 후 tcp 패킷형태로 전송한다.) 
    
    이후 응답 메시지를 tcp패킷형태로 클라이언트에 전달한다.
    
    1. 서버에서는 패킷을 비캡슐화 하여 해당내용으로 데이터를 찾아 응답메시지를 만든다.
    2. 클라이언트 브라우저에서는 데이터를 토대로 렌더링해서 화면에 보여준다.
- 쿠키, 세션, 웹스토리지 차이
    - 요청시마다 서버는 해당 요청이 어떤 클라이언트에서 보냈는지 확인해야하는데, 이때의 클라이언트의 정보를 쿠키에담아서 서버가 식별하도록 한다.
        
        하지만, 이때 쿠키에 담은 값은 클라이언트가 임의로 변경할 수도 있고, 노출의 위험이 있다.
        
    
    - 세션은 쿠키를 통해 중요 정보를 직접 교환하는게 아니라 서버에 전부 저장하고, 임의의 값으로 변환하여 쿠키에 담아 교환한다.
        
        쿠키와 세션은 만료시간을 설정할 수 있으며, 만료시간 이후에는 다시 요청해야한다.
        
    
    - 웹 스토리지는 HTML5에서 추가된 저장소로
        
        접근제한을 차등으로 둬서 쿠키에 저장하는것 보다 보안성이 높다.
        
        클라이언트(브라우저)에 정보를 저장할 수 있다.
        
        또한 저장 용량도 크고 서버가 조작하여 위변조 할 수없어 안전하다.
        
- API란?
    
    응용 프로그램에서 다른 소프트웨어나 서비스와 상호작용하기 위한 인터페이스를 뜻합니다.
    

- 쿠키와 세션을 통한 로그인 처리 과정에 대해 설명해주세요.
    1. 로그인시 클라이언트의 유저 정보를  HTTP 메시지 헤더에 담아 전송한다.
    2. 서버에서는 쿠키를 만들어서 유저정보를 저장하고 응답메시지에 쿠키를 담아서 클라이언트에 보낸다.(이때 유저정보를 sessionId로 변환하여 담는다.)
    3. 클라이언트는 해당 쿠키의 데이터를 쿠키저장소에 저장한다.
    4. 클라이언트는 매요청시마다 쿠키저장소에서 쿠키를 꺼내서 서버에 보낸다.
    5. 서버는 전달받은 sessionId를 토대로 세션저장소에 매핑된 유저정보를 확인하고 로그인 인증처리를 한다.
- OAuth(Open Authorization)
    - 외부 소셜계정의 API를 기반으로 간편히 회원가입, 로그인을 수행하는 것을 말하며, 해당 소셜계정으로 부터 접근 권한을 위임 받는것을 뜻합니다.
    - 클라이언트인 웹 어플리케이션에서 리소스 서버에 자신의 서비스를 등록하여, 인증키를 부여받습니다.
    - 이후 사용자는 로그인시 OAuth를 사용하면, 외부 소셜계정으로 redirect 되고, 외부 소셜계정에서 인증을 수행합니다.
- JWT
    - 클라이언트와 서버 사이에서 통신할 때 권한을 위해 사용하는 유일한 토큰이다
    - 헤더,페이로드, 서명으로 구분되어져 있다.
    - 서버가 아닌 **클라이언트에 저장**되며, 서버에서는 위변조 되었는지만 판별하면 된다.
    
    **동작방식**
    
    1. 사용자가 id와 password를 입력하여 로그인 요청을 한다.
    2. 서버는 회원DB에 들어가 있는 사용자인지 확인을 한다.
    3. 확인이 되면 서버는 로그인 요청 확인 후, secret key를 통해 토큰을 발급한다.
    4. 이것을 클라이언트에 전달한다.
    5. 서비스 요청과 권한을 확인하기 위해서 헤더에 데이터(JWT) 요청을 한다.
    6. 데이터를 확인하고 JWT에서 사용자 정보를 확인한다.
    7. 클라이언트 요청에 대한 응답과 요청한 데이터를 전달해준다.